CREATE TABLE t1 (id INT PRIMARY KEY) ENGINE=InnoDB;
INSERT INTO t1 VALUES (1);
CREATE TABLE t2 (id INT) ENGINE=InnoDB;
INSERT INTO t2 VALUES (1);
INSERT INTO t2 VALUES (1);
SELECT COUNT(*) = 1 FROM t1;
COUNT(*) = 1
1
SELECT COUNT(*) = 2 FROM t2;
COUNT(*) = 2
1
ALTER TABLE t1 ADD COLUMN f2 INTEGER;
FLUSH LOGS;
SHOW BINLOG EVENTS IN '0.000002' FROM 120;
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
0.000002	120	Query	1	244	use `test`; CREATE TABLE t1 (id INT PRIMARY KEY) ENGINE=InnoDB
0.000002	244	Query	1	321	BEGIN
0.000002	321	Table_map	1	366	table_id: # (test.t1)
0.000002	366	Write_rows	1	406	table_id: # flags: STMT_END_F
0.000002	406	Xid	1	437	COMMIT /* xid=# */
0.000002	437	Query	1	549	use `test`; CREATE TABLE t2 (id INT) ENGINE=InnoDB
0.000002	549	Query	1	626	BEGIN
0.000002	626	Table_map	1	671	table_id: # (test.t2)
0.000002	671	Write_rows	1	711	table_id: # flags: STMT_END_F
0.000002	711	Xid	1	742	COMMIT /* xid=# */
0.000002	742	Query	1	819	BEGIN
0.000002	819	Table_map	1	864	table_id: # (test.t2)
0.000002	864	Write_rows	1	904	table_id: # flags: STMT_END_F
0.000002	904	Xid	1	935	COMMIT /* xid=# */
0.000002	935	Query	1	1045	use `test`; ALTER TABLE t1 ADD COLUMN f2 INTEGER
0.000002	1045	Rotate	1	1084	0.000003;pos=4
SELECT COUNT(*) = 2 FROM INFORMATION_SCHEMA.COLUMNS WHERE TABLE_NAME = 't1';
COUNT(*) = 2
1
SHOW BINLOG EVENTS IN '0.000001' FROM 120;
Log_name	Pos	Event_type	Server_id	End_log_pos	Info
0.000001	120	Query	1	244	use `test`; CREATE TABLE t1 (id INT PRIMARY KEY) ENGINE=InnoDB
0.000001	244	Query	1	312	BEGIN
0.000001	312	Table_map	1	357	table_id: # (test.t1)
0.000001	357	Write_rows	1	397	table_id: # flags: STMT_END_F
0.000001	397	Xid	1	428	COMMIT /* xid=# */
0.000001	428	Query	1	540	use `test`; CREATE TABLE t2 (id INT) ENGINE=InnoDB
0.000001	540	Query	1	608	BEGIN
0.000001	608	Table_map	1	653	table_id: # (test.t2)
0.000001	653	Write_rows	1	693	table_id: # flags: STMT_END_F
0.000001	693	Xid	1	724	COMMIT /* xid=# */
0.000001	724	Query	1	792	BEGIN
0.000001	792	Table_map	1	837	table_id: # (test.t2)
0.000001	837	Write_rows	1	877	table_id: # flags: STMT_END_F
0.000001	877	Xid	1	908	COMMIT /* xid=# */
0.000001	908	Query	1	1018	use `test`; ALTER TABLE t1 ADD COLUMN f2 INTEGER
DROP TABLE t1;
DROP TABLE t2;
RESET MASTER;
